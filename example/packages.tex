% utf8 support
\usepackage[utf8]{inputenc} 
% PDF font support
\usepackage[T1]{fontenc}
% lmodern fonts
\usepackage{lmodern}
% double spacing
\usepackage[nodisplayskipstretch]{setspace} 
% Ragged right with indentation
\usepackage{ragged2e}
\setlength{\RaggedRightParindent}{\parindent}
% Indent the first paragraph
\usepackage{indentfirst}

\usepackage[justification=centering]{caption}
\captionsetup{skip=10pt}
\usepackage{subcaption}

\usepackage{geometry}

% For highlighting
\usepackage{soul}

% For quoting
\usepackage[style = american]{csquotes}	
%To make references into links
\usepackage[hidelinks]{hyperref} 
% For equation stuff
\usepackage{amsmath}	
% For xfrac
\usepackage{xfrac}
% For math symbols
\usepackage{amssymb}	
\usepackage[mathcal]{euscript}
% For Bold math Symbols
\usepackage{bm}			
% For nice looking fractions
\usepackage{nicefrac}	
% For Graphics
\usepackage{graphicx}	
\usepackage[space]{grffile}
% Read about this, tested it, and was sold.
\usepackage[stretch=15]{microtype}	

% Adjust titles
% and section rules
\usepackage{titling}
\usepackage[raggedright]{titlesec}
\titleformat*{\subsection}{\large\itshape}

% Include PDF pages directly
\usepackage{pdfpages}
% For landscape pages
\usepackage{pdflscape}

% Stuff for Tables
\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X} % A centered column type that sucks up excess space
% For \toprule, \midrule, and \bottomrule
\usepackage{booktabs}		
% Have a value over multiple rows in a table
\usepackage{multirow}

% Squish things onto the page
\usepackage{adjustbox}

% bibliography stuff
\usepackage[american]{babel}
\usepackage[backend=biber,
bibstyle=IEEEtran,
uniquename=false,
doi=false,
uniquelist=false,
isbn=false,
url=false,
style=authoryear-comp,
maxcitenames=1,
maxcitenames=4,
maxbibnames=999]{biblatex}
% No Oxford Commas
\DefineBibliographyExtras{english}{\let\finalandcomma=\empty}
% Don't put "in:" in anything
\renewbibmacro{in:}{}
% The path to the bibliography file
%\addbibresource{library.bib}
\addbibresource{/home/bam/papers/library.bib}
% Add some space between entries
\setlength\bibitemsep{1.5\itemsep}

% Convenience Commands
\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu} % Command to make a shorter overline/longer bar

% Make a break a column title into 2 lines
\newcommand{\cnline}[2][c]{%
	\setlength{\extrarowheight}{0em}
	\begin{tabular}[#1]{@{}c@{}}#2\end{tabular}
	\setlength{\extrarowheight}{5em}
}

% Some commands to help with appendicies
\newcommand{\appendixsetup}{
	\appendix
	\titleformat{\section}[hang]
		{\normalfont\normalsize\bfseries}
		{Appendix \thesection}
		{0pt}
		{: \normalsize\bfseries\filcenter}
	\renewcommand{\thetable}{\Alph{section}.\arabic{table}}
	\renewcommand{\thefigure}{\Alph{section}.\arabic{figure}}
	\renewcommand{\theequation}{\Alph{section}.\arabic{equation}}
}

\newcommand{\appendixref}{
	\titleformat{\section}[hang]
		{\normalfont\normalsize\bfseries}
		{Appendix \thesection}
		{0pt}
		{\normalsize\bfseries\filcenter}
	\singlespacing
	\printbibliography[title={References}]
	\doublespacing
	\titleformat{\section}[hang]
		{\normalfont\normalsize\bfseries}
		{Appendix \thesection}
		{0pt}
		{: \normalsize\bfseries\filcenter}
}

\newcommand{\appendixreset}{
	\renewcommand{\thetable}{\Alph{section}.\arabic{table}}
	\renewcommand{\thefigure}{\Alph{section}.\arabic{figure}}
	\renewcommand{\theequation}{\Alph{section}.\arabic{equation}}
	\setcounter{table}{0}
	\setcounter{figure}{0}
	\setcounter{equation}{0}
	\newrefsection
}


